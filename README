-EemsController.create
	receive params from form
	create Eem
		(could be refactored out to PartCreation module, then included in Eems and Parts controllers)
		create ContentFile
			set url and filepath
			create_table "content_files", :force => true do |t|
		    t.string   "url"
		    t.integer  "percent_done"
		    t.string   "path"
		    t.datetime "created_at"
		    t.datetime "updated_at"
		    t.string   "filepath"
		    t.string   "part_pid"
		  end
		create Part
		-add relationship to parent Eem
		m.field "url", :string
	    m.field "done", :string
	    m.field "content_file_id", :string

		create DownloadJob
	redirect to EemsController.download_progress

Part
	properties
		:url
		:done
		:content_file_id
		:size?
	
	-:done initialized to false
	
	content Datastream -no fedora checksum?
		-points to workspace/eems-druid/content.pdf

	
-EemsController.show
	-render Eem detail page
	-check done flag of any part
	-If part not done
		-progress box queries ContentFile controller /contentfiles/:id/status
	
	-if 100 but not done
		-calls PartsController.update_attributes(part_druid, :done, 'true')
		-re-render part/page with part details
	-if error
		-display error....
		-do we retry?
			-display button to retry - calls /contentfiles/:id/retry
	
-ContentFileController/:id => #show
	-calls ContentFile.percent_done
	-returns json

#Need to grab druids from Suri

HOLD
If request from bookmark tool
-render small progress box
	-page has javascript to query ContentFile controller for status
	-keeps querying for status until 100 or error


#HOLD Needed for addtional files when Eems is already created
PartsController.create
	-creates child object
	-sets :done to false